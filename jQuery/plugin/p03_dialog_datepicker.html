<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <!--
        1. jquery-ui.css
        2. jquery
        3. jquery-ui.js
    -->
    <link rel="stylesheet" href="../jquery-ui.min.css" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="../jquery-ui.min.js"></script>
    <style>
        #dialogOpen{
            text-align: center;
            background-color: #ddd;
            height: 50px;
            line-height: 50px;
        }
        #result{
            width: 600px;
            margin: 0 auto;
            background-color: pink;
        }
        #event-name, #event-date {
            width: 95%;
            margin-bottom: 20px;

        }
    </style>
    <script>
        $(function(){
            // 다이얼 열기
            $('#dialogOpen').on('click', function(){
                $('#dialog').dialog('open')
            });
            // 다이얼로그 셋팅
            $('#dialog').dialog({
                autoOpen:true,// 실행시 자동열림 설정(true, false)
                buttons:{
                    submit: function(){
                        let name = $("#event-name").val();
                        let date = $("#event-date").val();

                        $("#result").append("<p>" + date + ":"+name+"</p>");

                        // 폼의 값을 초기화
                        $("#event-name").val('');
                        $("#event-date").val('');
                        $("#dialog").dialog('close');
                    },
                    reset:function(){
                        $("#event-name").val('');
                        $("#event-date").val('');
                    },
                    close:function(){
                        $("#event-name").val('');
                        $("#event-date").val('');
                        $("#dialog").dialog('close');
                    }
                } //buttons

                , model:false
            });

            // DatePicker 셋팅
            $("#event-date").datepicker({
                dateFormat:'yy/mm/dd', // yy:년도 4자리, y:년도2자리
                numberOfMonths: [2,3] // 한번에 표시되는 월의 수
            });

        });
        
    </script>
</head>
<body>
    <div id="dialogOpen">일정 등록</div>
    <hr>
    <div id="result">일정이 표시되는 곳</div>

    <!-- 다이얼로그 창 -->
    <div id="dialog" title="JQuery UI Dialog">
        <h2>일정을 등록하세요</h2>
        <label for="event-name">일정 이름:</label><input type="text" id="event-name">
        <label for="event-date">날짜 선택:</label><input type="text" id="event-date" readonly>
    </div>
</body>
</html>